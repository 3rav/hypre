#!/bin/sh 

#=============================================================================
# 2D one proc
#=============================================================================

# interpolate in x direction
mpirun -np 1 ./structmat -in structmat.in.2D0 -out structmat.out.2D0.x -mat-mat 3 1T 0 1 -r 10 10 \
 > structmat.out.2D0.x
mpirun -np 1 ./structmat -in structmat.in.2D1 -out structmat.out.2D1.x -mat-mat 3 1T 0 1 -r 10 10 \
 > structmat.out.2D1.x
mpirun -np 1 ./structmat -in structmat.in.2D2 -out structmat.out.2D2.x -mat-mat 3 1T 0 1 -r 10 10 \
 > structmat.out.2D2.x
mpirun -np 1 ./structmat -in structmat.in.2D3 -out structmat.out.2D3.x -mat-mat 3 1T 0 1 -r 10 10 \
 > structmat.out.2D3.x

# interpolate in y direction
mpirun -np 1 ./structmat -in structmat.in.2D0 -out structmat.out.2D0.y -mat-mat 3 3T 0 3 -r 10 10 \
 > structmat.out.2D0.y
mpirun -np 1 ./structmat -in structmat.in.2D1 -out structmat.out.2D1.y -mat-mat 3 3T 0 3 -r 10 10 \
 > structmat.out.2D1.y
mpirun -np 1 ./structmat -in structmat.in.2D2 -out structmat.out.2D2.y -mat-mat 3 3T 0 3 -r 10 10 \
 > structmat.out.2D2.y
mpirun -np 1 ./structmat -in structmat.in.2D3 -out structmat.out.2D3.y -mat-mat 3 3T 0 3 -r 10 10 \
 > structmat.out.2D3.y

#=============================================================================
# 2D four procs
#=============================================================================

# interpolate in x direction
mpirun -np 4 ./structmat -in structmat.in.2D0 -out structmat.out.2D0.x4 -mat-mat 3 1T 0 1 -r 5 5 -P 2 2 \
 > structmat.out.2D0.x4
mpirun -np 4 ./structmat -in structmat.in.2D1 -out structmat.out.2D1.x4 -mat-mat 3 1T 0 1 -r 5 5 -P 2 2 \
 > structmat.out.2D1.x4
mpirun -np 4 ./structmat -in structmat.in.2D2 -out structmat.out.2D2.x4 -mat-mat 3 1T 0 1 -r 5 5 -P 2 2 \
 > structmat.out.2D2.x4
mpirun -np 4 ./structmat -in structmat.in.2D3 -out structmat.out.2D3.x4 -mat-mat 3 1T 0 1 -r 5 5 -P 2 2 \
 > structmat.out.2D3.x4

# interpolate in y direction
mpirun -np 4 ./structmat -in structmat.in.2D0 -out structmat.out.2D0.y4 -mat-mat 3 3T 0 3 -r 5 5 -P 2 2 \
 > structmat.out.2D0.y4
mpirun -np 4 ./structmat -in structmat.in.2D1 -out structmat.out.2D1.y4 -mat-mat 3 3T 0 3 -r 5 5 -P 2 2 \
 > structmat.out.2D1.y4
mpirun -np 4 ./structmat -in structmat.in.2D2 -out structmat.out.2D2.y4 -mat-mat 3 3T 0 3 -r 5 5 -P 2 2 \
 > structmat.out.2D2.y4
mpirun -np 4 ./structmat -in structmat.in.2D3 -out structmat.out.2D3.y4 -mat-mat 3 3T 0 3 -r 5 5 -P 2 2 \
 > structmat.out.2D3.y4

#=============================================================================
# 2D idle procs
#=============================================================================

mpirun -np 1 ./structmat -in structmat.in.2D1 -out structmat.out.2D1.xidle -mat-mat 3 1T 0 1 -r 4 4 -P 1 1 \
 > structmat.out.2D1.xidle
mpirun -np 4 ./structmat -in structmat.in.2D1 -out structmat.out.2D1.xidle4 -mat-mat 3 1T 0 1 -r 1 4 -P 4 1 \
 > structmat.out.2D1.xidle4
mpirun -np 1 ./structmat -in structmat.in.2D1 -out structmat.out.2D1.yidle -mat-mat 3 3T 0 3 -r 4 5 -P 1 1 \
 > structmat.out.2D1.yidle
mpirun -np 5 ./structmat -in structmat.in.2D1 -out structmat.out.2D1.yidle5 -mat-mat 3 3T 0 3 -r 4 1 -P 1 5 \
 > structmat.out.2D1.yidle5
