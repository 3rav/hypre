PATH=/bin:/usr/bin:/usr/local/bin
if [ $# -ge 1 ]
then
  COMPILER=$1
fi
if [ -x "/bin/hostname" ] 
then
    HYPRE_HOST=`/bin/hostname`
fi
unset CC
unset CXX
unset F77
unset MPICH_CC
unset MPICH_CLINKER
unset MPICH_CCC
unset MPICH_CCLINKER
unset MPICH_F77
unset MPICH_FLINKER

#=============================================================================
# Based on what we found from system queries set HYPRE_ARCH
#=============================================================================

case "$HYPRE_HOST" in
   tux*)                   
     PATH=/bin:/usr/bin:/sbin:/usr/sbin:/usr/X11R6/bin:/usr/local/bin
     PARASOFT=/usr/apps/ParaSoft/default
     export PARASOFT
     PATH=$PARASOFT/bin.linux2:$PATH
##   LD_LIBRARY_PATH=$PARASOFT/lib.linux2:${LD_LIBRARY_PATH}
     PATH=/usr/apps/java/default/bin:$PATH
     PATH=/usr/apps/python/2.1.1/bin:$PATH
##   LD_LIBRARY_PATH=/usr/apps/python/2.1.1/lib:$LD_LIBRARY_PATH
     PATH=/usr/apps/mpich/default/bin:$PATH
     PATH=/usr/apps/latex2html/default/bin:$PATH
     PATH=$PATH:/usr/apps/bin
     MPICH_CC=gcc
     MPICH_CLINKER=gcc
     MPICH_CCC=g++
     MPICH_CCLINKER=g++
     MPICH_F77=g77
     MPICH_FLINKER=g77
     export MPICH_CC MPICH_CLINKER
     export MPICH_CCC MPICH_CCLINKER
     export MPICH_F77 MPICH_FLINKER

     case $COMPILER in
       gcc2)
         PATH=/usr/apps/bin:$PATH # used GNU gcc 2.95.3 compiler
##       LD_LIBRARY_PATH=/usr/apps/gcc/default/lib:$LD_LIBRARY_PATH
         ;;
       gcc30)
         PATH=/usr/apps/gcc/3.0.4/bin:$PATH # used GNU gcc 3.0.4 compiler
##       LD_LIBRARY_PATH=/usr/apps/gcc/3.0.4/lib:$LD_LIBRARY_PATH
         ;;
       gcc31)
         PATH=/usr/apps/gcc/3.1.1/bin:$PATH # used GNU gcc 3.1.1 compiler
##       LD_LIBRARY_PATH=/usr/apps/gcc/3.1.1/lib:$LD_LIBRARY_PATH
         ;;
       gcc32)
         PATH=/usr/apps/gcc/3.2.2/bin:$PATH # used GNU gcc 3.2.2 compiler
##       LD_LIBRARY_PATH=/usr/apps/gcc/3.2.2/lib:$LD_LIBRARY_PATH
         ;;
       gcc33)
         PATH=/usr/apps/gcc/new/bin:$PATH # used GNU gcc 3.x compiler
##       LD_LIBRARY_PATH=/usr/apps/gcc/new/lib:$LD_LIBRARY_PATH
         ;;
       pgi)
         PGI=/usr/apps/pgi/3.3  # used PGI compiler3
         export PGI
         PATH=$PGI/linux86/bin:$PATH
         MPICH_CC=pgcc
         MPICH_CLINKER=pgcc
         MPICH_CCC=pgCC
         MPICH_CCLINKER=pgCC
         MPICH_F77=pgf77
         MPICH_FLINKER=pgf77
         export MPICH_CC MPICH_CLINKER
         export MPICH_CCC MPICH_CCLINKER
         export MPICH_F77 MPICH_FLINKER
         ;;
       absoft)
         ABSOFT=/usr/apps/Absoft/pro8.0
         export ABSOFT
         PATH=$ABSOFT/bin:$PATH
#        LD_LIBRARY_PATH=$ABSOFT/lib:${LD_LIBRARY_PATH}
         MPICH_F77=f90
         MPICH_FLINKER=f90
         export MPICH_F77 MPICH_FLINKER
         ;;
       lahey)
         ;;
       intel)
         PATH=/usr/apps/intel/compiler70/ia32/bin:$PATH
##       LD_LIBRARY_PATH=/usr/apps/intel/compiler70/ia32/lib:$LD_LIBRARY_PATH
         MPICH_CC=icc
         MPICH_CLINKER=icc
         MPICH_CCC=icc
         MPICH_CCLINKER=icc
         MPICH_F77=ifc
         MPICH_FLINKER=ifc
         export MPICH_CC MPICH_CLINKER
         export MPICH_CCC MPICH_CCLINKER
         export MPICH_F77 MPICH_FLINKER
         ;;
       kai)
         PATH=/usr/apps/KAI/default/KCC_BASE/bin:$PATH
#        LD_LIBRARY_PATH=/usr/apps/KAI/default/KCC_BASE/lib:$LD_LIBRARY_PATH
         MPICH_CC=KCC
         MPICH_CLINKER=KCC
         MPICH_CCC=KCC
         MPICH_CCLINKER=KCC
         export MPICH_CC MPICH_CLINKER
         export MPICH_CCC MPICH_CCLINKER
         ;;
       *)
         PATH=/usr/apps/bin:$PATH # used GNU gcc 2.95.3 compiler
##       LD_LIBRARY_PATH=/usr/apps/gcc/default/lib:$LD_LIBRARY_PATH
         ;;
     esac
     ;;
   ilx*)			# use PGI
            CC=mpipgcc
            CXX=mpipgCC
            F77=mpipgf77
            export CC CXX F77
            PATH=/usr/local/KAI/KCC_BASE/bin:$PATH
            PATH=/usr/local/mpi/bin:/usr/local/pgi4/linux86/bin:$PATH
            LM_LICENSE_FILE="/usr/local/etc/license.client"
            export LM_LICENSE_FILE
            ;;
   lx*)
            PATH=/usr/local/tools/mpich/new_mpi/bin:$PATH
            LM_LICENSE_FILE="/usr/local/etc/license.client"
            export LM_LICENSE_FILE
            ;;
   vivid*)                         # uses gcc 3.0
            LM_LICENSE_FILE="/usr/local/etc/license.client"
            export LM_LICENSE_FILE
            ;;
   pengra*|mcr*)                   # uses mpiicc (Intel compiler)
            PATH=/usr/local/KAI/KCC_BASE/bin:$PATH
            PATH=/usr/local/mpi/bin:/opt/intel/compiler70/ia32/bin:$PATH
            LD_LIBRARY_PATH=/opt/intel/compiler70/ia32/lib:$LD_LIBRARY_PATH
            export LD_LIBRARY_PATH
            LM_LICENSE_FILE="/usr/local/etc/license.client"
            export LM_LICENSE_FILE
            ;;
   *)
            ;;
esac

export PATH
DISPLAY=`/bin/hostname`:0.0
export DISPLAY
if [ -d linear_solvers/babel-runtime ] ; then
  if [ -z "$CLASSPATH" -o "$CLASSPATH" = "" ] ; then
    CLASSPATH=`pwd`/linear_solvers/babel-runtime
  else
    CLASSPATH=$CLASSPATH:`pwd`/linear_solvers/babel-runtime
  fi
  export CLASSPATH
fi
