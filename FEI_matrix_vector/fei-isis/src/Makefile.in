#BHEADER***********************************************************************
# (c) 1999   The Regents of the University of California
#
# See the file COPYRIGHT_and_DISCLAIMER for a complete copyright
# notice, contact person, and disclaimer.
#
# $Revision$
#EHEADER***********************************************************************


.SUFFIXES: .cc .c .f .o

all: lib

install:all

CC = @CC@
CXX = @CXX@

CFLAGS =

CXXFLAGS =\
 @MPIINCLUDE@\
 -I..\
 -I../..


HEADERS =

HYPREFILES =

LOCALFILES =\
 BASE_SLE.cc\
 BCRecord.cc\
 BlockRecord.cc\
 CommBufferDouble.cc\
 CommBufferInt.cc\
 ExternNodeRecord.cc\
 FieldRecord.cc\
 MultConstRecord.cc\
 NodeRecord.cc\
 PenConstRecord.cc\
 SLE_utils.cc\
 SharedNodeBuffer.cc\
 SharedNodeRecord.cc\
 SimpleList.cc

# these files are part of FEI distribution, but not needed for HYPRE
#FEI_ISIS.cc
#ISIS_SLE.cc
#fei_proc.cc

FILES = $(HYPREFILES) $(LOCALFILES)


OBJS = ${FILES:.c=.o} ${FILES:.cc=.o}

${OBJS}: ${HEADERS}


##################################################################
# Main rules
##################################################################

lib: $(PROTOS) ${OBJS}
	@echo  "Building $@ ... "
	@echo  "Building ${OBJS} ... "
	@ar -rcu libHYPRE_FEI_base.a ${OBJS}
	@ranlib libHYPRE_FEI_base.a 

clean:
	@rm -rf *.o ti_files

veryclean: clean
	@rm -f libHYPRE_*.a


##################################################################
# Generic rules
##################################################################

.c.o:
	${CC} -o $@ -c ${CFLAGS} $<

.cc.o:
	${CXX} -o $@ -c ${CXXFLAGS} $<


