#BHEADER***********************************************************************
# (c) 1999   The Regents of the University of California
#
# See the file COPYRIGHT_and_DISCLAIMER for a complete copyright
# notice, contact person, and disclaimer.
#
# $Revision$
#EHEADER***********************************************************************


.SUFFIXES: .cc .c .f .o

all: lib

install:all

CC = @CC@
CXX = @CXX@

CXX_COMPILE_FLAGS = @CXXFLAGS@

CFLAGS =\
 -I../..\
 -I../fei-base

CXXFLAGS = ${CXX_COMPILE_FLAGS} \
 -I../..\
 -I../fei-base

HEADERS =\
 CommInfo.h\
 GlobalIDArray.h\
 IntArray.h\
 Map.h\
 Matrix.h\
 RealArray.h\
 Vector.h
 
HYPREFILES =\
 CommInfo.cc\
 GlobalIDArray.cc\
 IntArray.cc\
 Map.cc\
 Matrix.cc\
 RealArray.cc\
 Vector.cc

LOCALFILES =


FILES = $(HYPREFILES) $(LOCALFILES)


OBJS = ${FILES:.cc=.o}

${OBJS}: ${HEADERS}


##################################################################
# Main rules
##################################################################

lib: ${OBJS}
	@echo  "Building $@ ... "
	@ar -rcu libHYPRE_FEI_isismv.a ${OBJS}
	@ranlib libHYPRE_FEI_isismv.a 

install: lib
	@cp -f *.a $$HYPRE_INSTALL_DIR/lib

clean:
	@touch erase.tmp
	@rm -rf erase.tmp *.o ti_files

veryclean: clean
	@touch erase.tmp
	@rm -rf erase.tmp *.a *.o ti_files

##################################################################
# Generic rules
##################################################################

.c.o:
	${CC} -o $@ -c ${CFLAGS} $<

.cc.o:
	${CXX} -o $@ -c ${CXXFLAGS} $<


