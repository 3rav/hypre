#BHEADER***********************************************************************
# (c) 2001   The Regents of the University of California
#
# See the file COPYRIGHT_and_DISCLAIMER for a complete copyright
# notice, contact person, and disclaimer.
#
#EHEADER***********************************************************************

.SUFFIXES:
.SUFFIXES: .C .c .o

srcdir = @srcdir@
VPATH = @srcdir@
 
# FC_LIB contains the libraries for a CLINKER to use for code containing
# FORTRAN code (such as I/O or special Fortran runtimes).
#
# e.g. BLAS_LIB = -lHYPRE_blas
FC_LIB         = -L/opt/SUNWspro/SC4.2/lib -lF77 -lM77 -lsunmath
BLAS_LIB       =  @BLASLIBFLAGS@

RANLIB= @RANLIB@
 
MPILIBFLAGS = @MPILIBDIRS@ @MPILIBS@ @MPIFLAGS@
## e.g. LIBFLAGS = -llapack -lblas -lg2c -lm (on linux)
LIBFLAGS = @LIBDIRS@ @LIBS@
LDLIBFLAGS = @LDLIBDIRS@ @LDLIBS@
BLASLIBFLAGS =  @BLASLIBFLAGS@

LFLAGS =\
 -L.\
 -L../../../hypre/lib\
 -L../lib\
 -lHYPRE_mli\
 -lHYPRE_krylov\
 -lHYPRE_IJ_mv\
 -lHYPRE_parcsr_ls\
 -lHYPRE_parcsr_mv\
 -lHYPRE_seq_mv\
 -lHYPRE_utilities\
 -lHYPRE_superlu\
 -lHYPRE_ParaSails\
 -lHYPRE_blas\
 ${BLASLIBFLAGS} \
 ${MPILIBFLAGS} ${LIBFLAGS} ${LDLIBFLAGS}

DRIVER_FILES = \
 driver.c

DRIVER_OBJS = ${DRIVER_FILES:.c=.o}

##################################################################
# Targets
##################################################################

driver: ${DRIVER_OBJS} ../lib/libHYPRE_mli.a
	@echo  "Building" $@ "... "
	${CXX} -o driver $@.o ${LFLAGS}
 
clean:
	@rm -f *.o

veryclean: clean
	@rm -f driver

