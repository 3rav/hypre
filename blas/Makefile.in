#BHEADER***********************************************************************
# (c) 2000   The Regents of the University of California
#
# See the file COPYRIGHT for a complete copyright
# notice, contact person, and disclaimer.
#
# $Revision$
#EHEADER***********************************************************************

###  If internal BLAS routines are needed, compile in this sub-directory 
###  then copy the files to the utilities directory to be included in
###  libHYPRE_utilities.a 
###
###  NOTE: files hypre_no_blas.c and hypre_no_blas.h are include to allow proper
###        execution when internal files are NOT used.

include ../config/Makefile.config


BLAS_LOCAL_HEADER = hypre_no_blas.h
BLAS_HEADER = hypre_no_blas.h
@BLASNEEDED@BLAS_LOCAL_HEADER = f2c.h
@BLASNEEDED@BLAS_HEADER = hypre_blas.h

BLAS_FILES = hypre_no_blas.c
@BLASNEEDED@BLAS_FILES = \
@BLASNEEDED@blas_utils.c\
@BLASNEEDED@dasum.c\
@BLASNEEDED@daxpy.c\
@BLASNEEDED@dcopy.c\
@BLASNEEDED@ddot.c\
@BLASNEEDED@dgemm.c\
@BLASNEEDED@dgemv.c\
@BLASNEEDED@dger.c\
@BLASNEEDED@dnrm2.c\
@BLASNEEDED@drot.c\
@BLASNEEDED@dscal.c\
@BLASNEEDED@dswap.c\
@BLASNEEDED@dsymm.c\
@BLASNEEDED@dsymv.c\
@BLASNEEDED@dsyr2.c\
@BLASNEEDED@dsyr2k.c\
@BLASNEEDED@dsyrk.c\
@BLASNEEDED@dtrmm.c\
@BLASNEEDED@dtrmv.c\
@BLASNEEDED@dtrsm.c\
@BLASNEEDED@dtrsv.c\
@BLASNEEDED@idamax.c

OBJS = ${BLAS_FILES:.c=.o}

##################################################################
# Targets
##################################################################

all: ${OBJS}
	@ \
	for file in ${OBJS}; \
	do \
	 (cp -fp $$file ../utilities); \
	done; \
	@cp -fp ${BLAS_LOCAL_HEADER} ../utilities
	@cp -fp ${BLAS_HEADER} ../utilities

install: all

clean:
	@rm -f *.o

veryclean: clean
	@rm -f Makefile

##################################################################
# Rules
##################################################################

${OBJS}: ${BLAS_HEADER}
